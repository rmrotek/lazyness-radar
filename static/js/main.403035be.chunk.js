(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{244:function(e,t,a){e.exports=a(422)},249:function(e,t,a){},251:function(e,t,a){},381:function(e,t,a){},404:function(e,t,a){},406:function(e,t,a){},408:function(e,t,a){},411:function(e,t,a){},413:function(e,t,a){},415:function(e,t,a){},422:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(30),i=a.n(l),c=(a(249),a(6)),s=a(7),o=a(9),u=a(8),m=a(10),h=a(427),p=a(425),d=a(418),g=(a(251),a(1)),f=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.e,{component:g.b,href:"".concat("/lazyness-radar","/events/").concat(this.props.id)},r.a.createElement("div",{style:{backgroundImage:"url(".concat(this.props.eventIcon,")"),width:250,height:250}}),r.a.createElement(g.f,{title:this.props.eventTitle,subtitle:r.a.createElement(r.a.Fragment,null,this.props.eventDescription)})))}}]),t}(n.Component);f.defaultProps={eventIcon:"https://static.thenounproject.com/png/656-200.png",eventTitle:"TITLE MISSING",eventDescription:"DESCRIPTION MISSING"};var v=f,E=(a(381),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.d,{component:g.c,container:!0,justify:"center",spacing:8},this.props.eventsData&&this.props.eventsData.length>0&&this.props.eventsData.map(function(e){return r.a.createElement(v,{key:e.id,eventIcon:e.icon,id:e.id,eventTitle:e.title,eventDescription:e.description})}))}}]),t}(n.Component));E.defaultProps={eventsData:[{id:1,title:"TITLE MISSING",description:"DESCRIPTION MISSING"}]};var b=E,y=a(426),j=a(430),O=a(424),x=a(429),C=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(y.a,{center:[54.352,18.6466],zoom:10,style:{height:500}},r.a.createElement(j.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),this.props.eventsData.map(function(e){return r.a.createElement(O.a,{key:e.id,position:[e.locationY,e.locationX]},r.a.createElement(x.a,null,e.title))})))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={viewId:"list"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.viewId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement(g.c,{item:!0,xs:6,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.b,{fullWidth:!0,size:"large",variant:"list"===t?"contained":"outlined",color:"list"===t?"primary":"default",onClick:function(){return e.setState({viewId:"list"})}},"Event List")),r.a.createElement(g.c,{item:!0,xs:6,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.b,{fullWidth:!0,size:"large",variant:"map"===t?"contained":"outlined",color:"map"===t?"primary":"default",onClick:function(){return e.setState({viewId:"map"})}},"Event Map"))),"list"===t&&r.a.createElement(g.c,{style:{marginTop:10,backgroundColor:"rgba(151, 193, 237, 0.2)"},item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(b,{eventsData:this.props.eventsData})),"map"===t&&r.a.createElement(g.c,{style:{marginTop:10,backgroundColor:"rgb(151, 193, 237)"},item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(C,{eventsData:this.props.eventsData}))))}}]),t}(n.Component);S.defaultProps={searchQuery:""};var k=S,w=a(171),I=a.n(w),z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.handleQueryChange=function(e){a.setState({query:e.target.value},function(){return a.props.getSearchQuery(a.state.query)})},a.preventSubmit=function(e){e.preventDefault(),a.props.getSearchQuery(a.state.query)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement(g.c,{item:!0,lg:8,md:10,sm:12,xs:12},r.a.createElement("form",{onSubmit:this.preventSubmit},r.a.createElement(g.l,{InputProps:{startAdornment:r.a.createElement(g.h,{position:"start"},r.a.createElement(I.a,null))},placeholder:"Search for events",fullWidth:!0,type:"search",margin:"normal",variant:"filled",value:this.state.query,onChange:this.handleQueryChange})))))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.setSearchQuery=function(e){return a.setState({query:e})},a.getFilteredEvents=function(){return a.props.eventsData.filter(function(e){return[e.title,e.description].map(function(e){return e.toLowerCase()}).some(function(e){return e.includes(a.state.query.toLocaleLowerCase())})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{getSearchQuery:this.setSearchQuery}),r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement(g.c,{item:!0,md:10,lg:8,sm:!0},r.a.createElement(g.k,null,r.a.createElement(k,{eventsData:this.getFilteredEvents(),searchQuery:this.state.query})))))}}]),t}(n.Component),W=a(53),P=a(87),A=a(26),L=a.n(A),U=r.a.createContext();L.a.initializeApp({apiKey:"AIzaSyAh7vpfNDGNmmEDeMJhA91L1nxiR0bdwis",authDomain:"lazyness-radar.firebaseapp.com",databaseURL:"https://lazyness-radar.firebaseio.com",projectId:"lazyness-radar",storageBucket:"lazyness-radar.appspot.com",messagingSenderId:"173044609858"});var F=U.Consumer,N=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={events:[],users:[],getEvent:function(e){return a.state.events.find(function(t){return t.id===e})},getUser:function(e){return a.state.getUsersWithEvents().find(function(t){return t.id===e})},getUsersWithEvents:function(){return a.state.users.map(function(e){return Object(P.a)({},e,{events:a.state.events.filter(function(t){return Object.entries(t.attendingUsers||{}).map(function(e){return Object(W.a)(e,1)[0]}).includes(e.id)})})})}},a.eventsRef=L.a.database().ref().child("events"),a.usersRef=L.a.database().ref().child("users"),a.listenEvents=function(){a.eventsRef.on("value",function(e){a.setState({events:Object.entries(e.val()||{}).map(function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];return Object(P.a)({id:a},n)})})})},a.listenUsers=function(){a.usersRef.on("value",function(e){a.setState({users:Object.entries(e.val()||{}).map(function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];return Object(P.a)({id:a},n)})})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.listenEvents(),this.listenUsers()}},{key:"render",value:function(){return r.a.createElement(U.Provider,{value:this.state},this.props.children)}}]),t}(n.Component),T=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null,function(e){var t=e.events;e.users;return null===t?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,t&&r.a.createElement(D,{eventsData:t}))}))}}]),t}(n.Component),Y=(a(404),a(406),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.c,{container:!0,justify:"center",spacing:24},r.a.createElement(g.c,{item:!0,xs:11,sm:11,md:11,lg:11,xl:11},r.a.createElement(g.n,{variant:"h3"},"PROFILE")),r.a.createElement(g.c,{item:!0,xs:11,sm:4,md:4,lg:4,xl:4},r.a.createElement(g.n,{paragraph:!0,align:"center"},r.a.createElement("img",{src:this.props.user.avatar,alt:"user avatar",style:{width:120,height:120}}))),r.a.createElement(g.c,{item:!0,xs:11,sm:7,md:7,lg:7,xl:7},r.a.createElement(g.n,{variant:"h4"},"name: ",this.props.user.first_name),r.a.createElement(g.n,{variant:"h4"},"surname: ",this.props.user.last_name),r.a.createElement(g.n,{paragraph:!0,variant:"h4"},"email:  ",this.props.user.email)),r.a.createElement(g.c,{item:!0,xs:11,sm:11,md:11,lg:11,xl:11},r.a.createElement(g.n,{align:"center",variant:"h4"},"About me:"),r.a.createElement(g.n,{variant:"h5"},this.props.user.description)))}}]),t}(n.Component));Y.defaultProps={user:{avat:"",name:"Jacek",surname:"Noga",email:"k@wp.pl",description:"Lorem Ipsum jest tekstem stosowanym jako przyk\u0142adowy"}};var M=Y,R=(a(408),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.n,{color:"secondary",align:"center",paragraph:!0,variant:"h4"},"Events that you signed up for:"),this.props.events.length>0?r.a.createElement(b,{eventsData:this.props.events}):r.a.createElement(g.n,{align:"center",paragraph:!0,variant:"h5"}," NONE ;("))}}]),t}(n.Component)),X=a(428),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBack=function(){a.props.history.goBack()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.b,{fullWidth:!0,onClick:this.handleBack,variant:"outlined",color:"primary",size:"large"},"Go back")}}]),t}(n.Component),Q=Object(X.a)(q),B=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F,null,function(t){var a=(0,t.getUser)(e.props.match.params.userId),n=a&&a.events;return void 0===a?r.a.createElement("div",null,"Loading..."):r.a.createElement(g.c,{container:!0,justify:"center",spacing:24},r.a.createElement(g.c,{item:!0,xs:12,sm:11,md:11,lg:11,xl:11},r.a.createElement(g.k,null,r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(M,{user:a})),r.a.createElement(g.c,{item:!0,container:!0,justify:"center",xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.c,{item:!0,xs:11,sm:11,md:11,lg:11,xl:11},r.a.createElement(Q,null))),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},a&&n&&r.a.createElement(R,{events:a.events})))))})}}]),t}(n.Component),G=a(40),_=(a(411),r.a.createContext());_.Consumer;function J(e){return function(t){return r.a.createElement(_.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{authContext:a}))})}}var H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,signOut:function(){return L.a.auth().signOut()}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.a.auth().onAuthStateChanged(function(t){return e.setState({user:t})})}},{key:"render",value:function(){return r.a.createElement(_.Provider,{value:this.state},this.props.children)}}]),t}(n.Component),K=function(e,t){L.a.database().ref("events/".concat(e,"/attendingUsers")).update(Object(G.a)({},t,!0))},$=J(function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.authContext.user,a=this.props.event&&this.props.event.attendingUsers&&this.props.eventParticipantsIds;if(void 0===this.props.event)return r.a.createElement("div",null,"Loading...");return r.a.createElement(g.c,{container:!0,justify:"center",spacing:8},r.a.createElement(g.c,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12},r.a.createElement(g.n,{variant:"h3",paragraph:!0,align:"center"},this.props.event.title)),r.a.createElement(g.c,{item:!0,xl:4,lg:3,md:4,sm:12,xs:12},r.a.createElement(g.n,{paragraph:!0,align:"center"},r.a.createElement("img",{className:"EventDescription-image",src:this.props.event.icon,alt:""}))),r.a.createElement(g.c,{item:!0,xl:7,lg:8,md:7,sm:11,xs:11},r.a.createElement(g.n,{variant:"h5",paragraph:!0,align:"left"},this.props.event.fullDescription)),r.a.createElement(g.c,{item:!0,xl:5,lg:5,md:5,sm:3,xs:11},r.a.createElement(Q,null)),r.a.createElement(g.c,{item:!0,xl:5,lg:5,md:5,sm:8,xs:11},t?e.props.event.attendingUsers&&a.find(function(e){return t.uid===e})?r.a.createElement(g.b,{fullWidth:!0,variant:"contained",size:"large",disabled:!0},"Already joined"):r.a.createElement(g.b,{onClick:function(){return K(e.props.event.id,t.uid)},variant:"contained",fullWidth:!0,color:"primary",size:"large"},"Join this Event"):r.a.createElement(g.b,{variant:"contained",color:"primary",size:"large",fullWidth:!0,disabled:!0},"Log in to join")))}}]),t}(n.Component)),V=(a(413),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[this.props.locY,this.props.locX];return r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:11,lg:11,xl:11},r.a.createElement("div",null,r.a.createElement(y.a,{center:e,zoom:13,style:{height:300}},r.a.createElement(j.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(O.a,{position:e},r.a.createElement(x.a,null,this.props.eventTitle)))))}}]),t}(n.Component)),Z=(a(415),a(417)),ee=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.b,null,r.a.createElement(g.k,{component:Z.a,to:"/user/".concat(this.props.id),style:{textDecoration:"none",width:150}},r.a.createElement(g.n,{align:"center"},r.a.createElement("img",{src:this.props.userAvatar,alt:"user avatar",style:{maxWidth:100}})),r.a.createElement(g.n,{color:"primary",align:"center"},this.props.userName),r.a.createElement(g.n,{color:"primary",paragraph:!0,align:"center"},this.props.userLastName)))}}]),t}(n.Component),te=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return void 0===this.props.users?r.a.createElement("div",null,"Loading..."):r.a.createElement(g.c,{container:!0,item:!0,xl:12,lg:12,md:12,sm:12,xs:12,spacing:16},r.a.createElement(g.c,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12},r.a.createElement(g.n,{color:"secondary",variant:"h5",paragraph:!0,align:"center"},"Users attending this event:")),this.props.users&&this.props.users.length>0?r.a.createElement(g.c,{item:!0,container:!0,xl:12,lg:12,md:12,sm:12,xs:12,justify:"center",spacing:16},this.props.users.map(function(e){return r.a.createElement(g.c,{item:!0,container:!0,xl:2,lg:2,md:2,sm:3,xs:12,justify:"center",key:e.id},r.a.createElement(ee,{userAvatar:e.avatar,id:e.id,userName:e.first_name,userLastName:e.last_name}))})):r.a.createElement(g.c,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12},"None "))}}]),t}(n.Component),ae=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F,null,function(t){var a=t.getEvent,n=t.users,l=a(e.props.match.params.eventId),i=l&&l.attendingUsers&&Object.entries(l.attendingUsers).map(function(e){return Object(W.a)(e,1)[0]});return r.a.createElement("div",null,r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement(g.c,{container:!0,justify:"center",item:!0,xs:12,sm:11,md:10,lg:10,xl:10,spacing:16,alignContent:"space-between"},r.a.createElement(g.k,null,r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement($,{event:l,eventParticipantsIds:i})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},l&&l.attendingUsers&&i&&r.a.createElement(te,{users:i.map(function(e){return n.find(function(t){return t.id===e})}).filter(Boolean)})),r.a.createElement(g.c,{item:!0,container:!0,justify:"center",xs:12,sm:12,md:12,lg:12,xl:12},l&&r.a.createElement(V,{eventTitle:l.title,locX:l.locationX,locY:l.locationY}))))))})}}]),t}(n.Component),ne=a(175),re=a.n(ne),le=function(e,t){var a=t.name,n=t.surname,r=t.email;L.a.database().ref("users/"+e).set({first_name:a,last_name:n,email:r,avatar:"https://steamcdn-a.akamaihd.net/steamcommunity/public/images/avatars/20/20fd725c79d4d4839c9f36e791248eac315f3aad_full.jpg",description:"Placeholder description on user profile"})},ie=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",surname:"",email:"",password:"",error:null},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),0===a.state.name.length?a.setState({error:"Please add your name"}):0===a.state.surname.length?a.setState({error:"Please add your surname"}):0===a.state.email.length?a.setState({error:"Please add your email"}):0===a.state.password.length?a.setState({error:"Please add your password"}):void L.a.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(e){var t=e.user;a.setState({error:null}),le(t.uid,a.state)}).then(function(){return a.props.history.push("/")}).catch(function(e){return a.setState({error:e.message})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(g.c,{container:!0,item:!0,justify:"center",spacing:8},r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Name",name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Surname",name:"surname",value:this.state.surname,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"E-mail",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.b,{type:"submit",variant:"contained",size:"large",color:"primary",fullWidth:!0},"Sign up"))))),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},this.state.error&&r.a.createElement(g.b,{style:{color:"red"},size:"large",fullWidth:!0,disabled:!0},"! ".concat(this.state.error," !"))))}}]),t}(n.Component),ce=J(function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.b,{component:Z.a,to:"/lazyness-radar/signIn",variant:"contained",size:"large"},"Sign in"),r.a.createElement(g.b,{component:Z.a,to:"/lazyness-radar/signUp",variant:"contained",size:"large"},"Sign up"))}}]),t}(n.Component)),se=J(function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.authContext,t=e.user,a=e.signOut;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Logged in as: ".concat(t.email,"  ")),r.a.createElement(g.b,{onClick:function(){return a()},component:Z.a,to:"/lazyness-radar/",variant:"contained",size:"medium"},"Sign out"),this.props.children):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce,null))}}]),t}(n.Component)),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:null},a.handleChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),0===a.state.email.length?a.setState({error:"Please add your email"}):0===a.state.password.length?a.setState({error:"Please add your password"}):void L.a.auth().signInWithEmailAndPassword(a.state.email,a.state.password).then(function(){return a.setState({error:null})}).then(function(){return a.props.history.push("/")}).catch(function(e){a.setState({error:e.message})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.c,{container:!0,justify:"center"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(g.c,{container:!0,item:!0,justify:"center",spacing:8},r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"E-mail",name:"email",value:this.state.email,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,variant:"outlined",label:"Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.b,{type:"submit",variant:"contained",size:"large",color:"primary",fullWidth:!0},"Sign in"))))),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},this.state.error&&r.a.createElement(g.b,{style:{color:"red"},size:"large",fullWidth:!0,disabled:!0},"! ".concat(this.state.error," !"))))}}]),t}(n.Component),ue=J(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",icon:"http://dummyimage.com/250x250.jpg/dddddd/000000",locationX:18.621165392381958,locationY:54.3541553799043,file:null,error:null},a.eventRef=L.a.database().ref().child("events"),a.handleChange=function(e){a.setState(Object(G.a)({},e.target.name,e.target.value))},a.addMarker=function(e){a.setState({locationX:e.latlng.lng,locationY:e.latlng.lat})},a.handleFileChange=function(e){a.setState({file:e.target.files[0]})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.file,n=L.a.storage().ref("/images").child(t.name);return 0===a.state.title.length?a.setState({error:"Please add event title"}):0===a.state.description.length?a.setState({error:"Please add event description"}):0===a.state.locationX.length?a.setState({error:"Invalid location"}):0===a.state.locationY.length?a.setState({error:"Invalid location"}):void n.put(t).then(function(e){n.getDownloadURL().then(function(e){var t={title:a.state.title,description:a.state.description,fullDescription:a.state.description,icon:e,locationX:a.state.locationX,locationY:a.state.locationY};a.eventRef.push(t),a.setState({title:"",description:"",icon:"http://dummyimage.com/250x250.jpg/dddddd/000000",error:"Event succesfully added to database, you can add another or leave this screen"})})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[this.state.locationY,this.state.locationX];return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.c,{container:!0,justify:"center",spacing:8},r.a.createElement(g.k,null,r.a.createElement("form",{encType:"multipart/form-data",onSubmit:this.handleSubmit},r.a.createElement(g.c,{container:!0,item:!0,justify:"center",spacing:8},r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(y.a,{onClick:this.addMarker,center:e,zoom:13,style:{height:350}},r.a.createElement(j.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r.a.createElement(O.a,{position:e},r.a.createElement(x.a,null,this.state.title)))),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Title",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Description",name:"description",multiline:!0,rows:"3",value:this.state.description,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",type:"file",name:"file",onChange:this.handleFileChange})),r.a.createElement(g.c,{item:!0,xs:6,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Location X",name:"locationX",type:"number",value:this.state.locationX,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:6,sm:6,md:6,lg:6,xl:6},r.a.createElement(g.l,{fullWidth:!0,color:"secondary",variant:"outlined",label:"Location Y",name:"locationY",type:"number",value:this.state.locationY,onChange:this.handleChange})),r.a.createElement(g.c,{item:!0,xs:12,sm:3,md:2,lg:2,xl:2},r.a.createElement(Q,null)),r.a.createElement(g.c,{item:!0,xs:12,sm:9,md:10,lg:10,xl:10},r.a.createElement(g.b,{type:"submit",variant:"contained",size:"large",color:"primary",fullWidth:!0},"Create Event")))))),r.a.createElement(g.c,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},this.state.error&&r.a.createElement(g.b,{style:{color:"red"},size:"large",fullWidth:!0,disabled:!0},"! ".concat(this.state.error," !"))))}}]),t}(n.Component)),me="/lazyness-radar",he=J(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.authContext.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(g.a,{position:"static"},r.a.createElement(g.m,null,r.a.createElement(g.g,{color:"inherit","aria-label":"Menu","aria-owns":e?"simple-menu":null,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(re.a,null)),r.a.createElement(g.n,{variant:"h6",color:"inherit",style:{flexGrow:1}},"Lazyness Radar"),r.a.createElement("div",null,r.a.createElement(se,null)))),r.a.createElement(g.i,{id:"simple-menu",anchorEl:e,open:Boolean(e),onClose:this.handleClose},r.a.createElement(g.j,{component:p.a,exact:!0,to:me+"/",onClick:this.handleClose},"Home Page"),t&&r.a.createElement(g.j,{component:p.a,to:"".concat(me,"/user/").concat(t.uid),onClick:this.handleClose},"User Profile"),t&&r.a.createElement(g.j,{component:p.a,to:"".concat(me,"/createEvent"),onClick:this.handleClose},"Create Event")),r.a.createElement(g.n,{paragraph:!0}),r.a.createElement(d.a,{exact:!0,path:me+"/",component:T}),r.a.createElement(d.a,{exact:!0,path:me+"/user",component:function(){return r.a.createElement("h1",null," You shouldnt be here")}}),r.a.createElement(d.a,{path:me+"/user/:userId",component:B}),r.a.createElement(d.a,{exact:!0,path:me+"/events",component:function(){return r.a.createElement("h1",null," You shouldnt be here ")}}),r.a.createElement(d.a,{path:me+"/events/:eventId",component:ae}),r.a.createElement(d.a,{path:me+"/createEvent",component:ue}),r.a.createElement(d.a,{path:me+"/signIn",component:oe}),r.a.createElement(d.a,{path:me+"/signUp",component:ie}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(419);var pe=a(71),de=a.n(pe);i.a.render(r.a.createElement(H,null,r.a.createElement(N,null,r.a.createElement(de.a,null),r.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[244,2,1]]]);
//# sourceMappingURL=main.403035be.chunk.js.map